import{H as k,a2 as M,Q as $,e as A,F as L,g as a,y as z,l as G,h as l,i as d,z as f,r as m,o as p,c as g,b as n,a as r,w as y,t as c,m as u,s as I,aa as U,u as j}from"./main.d0ffa6eb.js";import{_ as P}from"./DeleteCompanyModal.1fba518a.js";import{_ as V}from"./UpgradeCompanyModal.bed863d0.js";const E={class:"bg-gray-200 px-7"},H={class:"text-lg leading-6 font-medium text-gray-900 my-2"},Q={key:0,class:"pb-5"},R={class:"text-lg leading-6 font-medium text-gray-900"},J={class:"mt-2 max-w-xl text-sm text-red-700"},K={key:1,class:"pb-5"},O={class:"text-lg leading-6 font-medium text-green-700"},T={class:"mt-2 max-w-xl text-sm text-gray-500"},ee={setup(W){const e=k(),o=M(),h=$(),{t:s}=A(),v=L("utils");a(!1);const i=z({name:null,name_ar:null,logo:null,letterhead:null,address:{address_street_1:"",address_street_2:"",website:"",country_id:null,state:"",city:"",phone:"",zip:""},address_street_1_ar:null,address_street_2_ar:null,state_ar:null,city_ar:null,phone_ar:null,zip_ar:null,cr:null,vat:null,account_name:null,bank_name:null,account_no:null,iban:null,swift_code:null,cr_ar:null,vat_ar:null,account_name_ar:null,bank_name_ar:null,account_no_ar:null,iban_ar:null,swift_code_ar:null});v.mergeSettings(i,{...e.selectedCompany});let w=a([]);a(null),a(null);let b=a([]);a(null),a(null),a(null),a(!0),i.logo&&(console.log(i),w.value.push({image:i.logo})),i.letterhead&&b.value.push({image:i.letterhead}),G(()=>({name:{required:l.withMessage(s("validation.required"),d),minLength:l.withMessage(s("validation.name_min_length"),f(3))},address:{country_id:{required:l.withMessage(s("validation.required"),d)}},cr:{required:l.withMessage(s("validation.required"),d),minLength:l.withMessage(s("validation.name_min_length",{count:3}),f(3))},vat:{required:l.withMessage(s("validation.required"),d)}})),o.fetchLicencePlans();const{global:C}=window.i18n;async function S(t){if(o.licenceRequestSent)return j().showNotification({type:"success",message:C.t("settings.company_info.licence.request_already_sent")}),!0;x(),h.openModal({title:s("settings.company_info.licence.upgrade"),componentName:"UpgradeCompanyModal",size:"sm"})}function x(){let t="";e.selectedCompany.address.address_street_1&&e.selectedCompany.address.address_street_1+"",t+=e.selectedCompany.address.address_street_2??"",e.licenceForm.companyName=e.selectedCompany.name??"N/A",e.licenceForm.lastname=e.selectedCompany.name_ar??"N/A",e.licenceForm.address=t??"N/A",e.licenceForm.country=e.selectedCompany.address.country.name??"N/A",e.licenceForm.state=e.selectedCompany.address.state??"N/A",e.licenceForm.city=e.selectedCompany.address.city??"N/A",e.licenceForm.pincode=e.selectedCompany.address.zip??"N/A",e.licenceForm.phone=e.selectedCompany.address.phone??"N/A"}return(t,_)=>{const N=m("BaseDivider"),F=m("BaseInputGroup"),q=m("BaseInputGrid"),B=m("BaseSettingCard");return p(),g(U,null,[n("form",{onSubmit:_[0]||(_[0]=I((...D)=>t.updateCompanyData&&t.updateCompanyData(...D),["prevent"]))},[r(B,{title:t.$t("settings.company_info.licence.subscription")},{default:y(()=>[n("div",E,[r(N,{class:"my-6"}),n("h3",H,[n("b",null,c(t.$t("settings.company_info.licence.detail")),1)]),u(o).licence.is_trial?(p(),g("div",Q,[n("h3",R,c(t.$tc("settings.company_info.licence.trial_plan")),1),n("div",J,c(t.$tc("settings.company_info.licence.paid_description",{formattedDate:new Date(u(o).licence.data.expire_at).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),date:u(o).licence.data.expire_at})),1),r(q,{class:"mt-5"},{default:y(()=>[r(F,null,{default:y(()=>[n("button",{type:"submit",class:"mt-5 inline-flex items-center justify-center px-4 py-2 border border-transparent font-medium rounded-md text-green-700 bg-green-100 hover:bg-green-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-black-500 sm:text-sm",onClick:S},c(t.$tc("settings.company_info.licence.upgrade")),1)]),_:1})]),_:1})])):(p(),g("div",K,[n("h3",O,c(t.$tc("settings.company_info.licence.paid_plan")),1),n("div",T,[n("p",null,c(t.$tc("settings.company_info.licence.paid_description",{formattedDate:new Date(u(o).licence.data.expire_at).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})),1)])]))])]),_:1},8,["title"])],32),r(P),r(V)],64)}}};export{ee as default};
