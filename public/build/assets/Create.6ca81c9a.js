import{a1 as R,a2 as K,e as J,f as O,x as Q,g as w,l as V,h as _,i as U,z as W,a4 as X,af as Y,j as Z,k as ee,K as te,r as u,o as C,n as z,w as s,b as p,a as n,m as e,E as k,q as v,t as $,S as le,T as ne,s as oe}from"./main.d0ffa6eb.js";import{u as ae}from"./store.9cffc63a.js";/* empty css                                                                      */const re=["onSubmit"],se={class:"flex items-center justify-end"},ie={class:"grid grid-cols-5 gap-4 mb-8"},de={class:"col-span-5 text-lg font-semibold text-left lg:col-span-1"},ue={class:"block sm:inline text-red-700"},ce=p("b",null,"Code Already Exist!",-1),pe=v(),me=p("br",null,null,-1),ge=v("use another store code. "),_e=[ce,pe,me,ge],Se={class:"grid grid-cols-5 gap-4 mb-8"},be={class:"col-span-5 text-lg font-semibold text-left lg:col-span-1"},fe={class:"flex items-center justify-end"},Be={setup(Ve){const l=ae();R();const q=K(),x="customFields",{t:m}=J(),D=O(),N=Q();let r=w(!1);const g=w(!1),S=V(()=>N.name==="stores.edit");V(()=>l.isFetchingInitialSettings);const y=V(()=>S.value?m("stores.edit_store"):m("stores.add_new_store")),A=V(()=>({currentSupplier:{name:{required:_.withMessage(m("validation.required"),U),minLength:_.withMessage(m("validation.name_min_length",{count:3}),W(3))},code:{required:_.withMessage(m("validation.required"),U),maxLength:_.withMessage(m("categories.maxlength"),X(5)),alphaNum:_.withMessage(m("categories.no_space_allowed"),Y)},email:{email:_.withMessage(m("validation.email_incorrect"),Z)}}})),d=ee(A,l,{$scope:x});l.resetCurrentSupplier(),l.fetchSupplierInitialSettings(S.value);async function F(){if(d.value.$touch(),d.value.$invalid)return!0;g.value=!0;let a={...l.currentSupplier},t=null;try{t=await(S.value?l.updateStore:l.addStore)(a)}catch{g.value=!1;return}D.push(`/admin/stores/${t.data.data.id}/view`)}te(()=>l.currentSupplier.code,a=>{G()});async function G(){let a={id:l.currentSupplierId,code:l.currentSupplier.code};await l.checkStoreCodeAvailability(a).then(t=>{t.data&&(console.log(t.data.status),console.log(t.data))}).catch(t=>{console.log(t)})}return(a,t)=>{const f=u("BaseBreadcrumbItem"),T=u("BaseBreadcrumb-item"),E=u("BaseBreadcrumb"),B=u("BaseIcon"),h=u("BaseButton"),L=u("BasePageHeader"),c=u("BaseInput"),i=u("BaseInputGroup"),b=u("BaseTextarea"),I=u("BaseInputGrid"),M=u("BaseDivider"),P=u("BaseMultiselect"),j=u("BaseCard"),H=u("BasePage");return C(),z(H,null,{default:s(()=>[p("form",{onSubmit:oe(F,["prevent"])},[n(L,{title:e(y)},{actions:s(()=>[p("div",se,[n(h,{type:"submit",loading:g.value,disabled:e(l).codeAvailability&&(!e(l).codeAvailability.status||g.value)},{left:s(o=>[n(B,{name:"SaveIcon",class:k(o.class)},null,8,["class"])]),default:s(()=>[v(" "+$(e(S)?a.$t("stores.update"):a.$t("stores.save")),1)]),_:1},8,["loading","disabled"])])]),default:s(()=>[n(E,null,{default:s(()=>[n(f,{title:a.$t("general.home"),to:"/admin/dashboard"},null,8,["title"]),n(f,{title:a.$tc("stores.store",2),to:"/admin/stores"},null,8,["title"]),n(T,{title:e(y),to:"#",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),n(j,{class:"mt-5"},{default:s(()=>[p("div",ie,[p("h6",de,$(a.$t("customers.basic_info")),1),n(I,{class:"col-span-5 lg:col-span-4"},{default:s(()=>[n(i,{label:a.$t("stores.display_name"),required:"",error:e(d).currentSupplier.name.$error&&e(d).currentSupplier.name.$errors[0].$message,"content-loading":e(r)},{default:s(()=>[n(c,{modelValue:e(l).currentSupplier.name,"onUpdate:modelValue":t[0]||(t[0]=o=>e(l).currentSupplier.name=o),"content-loading":e(r),type:"text",name:"name",class:"",invalid:e(d).currentSupplier.name.$error,onInput:t[1]||(t[1]=o=>e(d).currentSupplier.name.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","error","content-loading"]),n(i,{label:a.$t("stores.code"),required:"",error:e(d).currentSupplier.code.$error&&e(d).currentSupplier.code.$errors[0].$message,"content-loading":e(r)},{default:s(()=>[n(c,{modelValue:e(l).currentSupplier.code,"onUpdate:modelValue":t[2]||(t[2]=o=>e(l).currentSupplier.code=o),"content-loading":e(r),type:"text",name:"code",placeholder:"Eg: NBC5",class:"",invalid:e(d).currentSupplier.code.$error,onInput:t[3]||(t[3]=o=>e(d).currentSupplier.code.$touch()),autocomplete:"off"},null,8,["modelValue","content-loading","invalid"]),le(p("span",ue,_e,512),[[ne,!e(l).codeAvailability.status]])]),_:1},8,["label","error","content-loading"]),n(i,{label:a.$t("stores.contact_name"),"content-loading":e(r)},{default:s(()=>[n(c,{modelValue:e(l).currentSupplier.contact_name,"onUpdate:modelValue":t[4]||(t[4]=o=>e(l).currentSupplier.contact_name=o),modelModifiers:{trim:!0},"content-loading":e(r),type:"text"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),n(i,{error:e(d).currentSupplier.email.$error&&e(d).currentSupplier.email.$errors[0].$message,"content-loading":e(r),label:a.$t("customers.email")},{default:s(()=>[n(c,{modelValue:e(l).currentSupplier.email,"onUpdate:modelValue":t[5]||(t[5]=o=>e(l).currentSupplier.email=o),modelModifiers:{trim:!0},"content-loading":e(r),type:"text",name:"email",invalid:e(d).currentSupplier.email.$error,onInput:t[6]||(t[6]=o=>e(d).currentSupplier.email.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["error","content-loading","label"]),n(i,{label:a.$t("customers.phone"),"content-loading":e(r)},{default:s(()=>[n(c,{modelValue:e(l).currentSupplier.phone,"onUpdate:modelValue":t[7]||(t[7]=o=>e(l).currentSupplier.phone=o),modelModifiers:{trim:!0},"content-loading":e(r),type:"text",name:"phone"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),n(i,{label:a.$t("customers.description"),"content-loading":e(r)},{default:s(()=>[n(b,{modelValue:e(l).currentSupplier.description,"onUpdate:modelValue":t[8]||(t[8]=o=>e(l).currentSupplier.description=o),modelModifiers:{trim:!0},"content-loading":e(r),type:"text",name:"description","container-class":"mt-3"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"])]),_:1})]),n(M,{class:"mb-5 md:mb-8"}),p("div",Se,[p("h6",be,$(a.$t("stores.address")),1),(C(),z(I,{key:0,class:"col-span-5 lg:col-span-4"},{default:s(()=>[n(i,{label:a.$t("customers.state"),"content-loading":e(r)},{default:s(()=>[n(c,{modelValue:e(l).currentSupplier.state,"onUpdate:modelValue":t[9]||(t[9]=o=>e(l).currentSupplier.state=o),"content-loading":e(r),name:"state",type:"text"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),n(i,{label:a.$t("customers.state_another"),"content-loading":e(r)},{default:s(()=>[n(c,{modelValue:e(l).currentSupplier.state_ar,"onUpdate:modelValue":t[10]||(t[10]=o=>e(l).currentSupplier.state_ar=o),"content-loading":e(r),name:"state_ar",type:"text"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),n(i,{"content-loading":e(r),label:a.$t("customers.city")},{default:s(()=>[n(c,{modelValue:e(l).currentSupplier.city,"onUpdate:modelValue":t[11]||(t[11]=o=>e(l).currentSupplier.city=o),"content-loading":e(r),name:"city",type:"text"},null,8,["modelValue","content-loading"])]),_:1},8,["content-loading","label"]),n(i,{"content-loading":e(r),label:a.$t("customers.city_another")},{default:s(()=>[n(c,{modelValue:e(l).currentSupplier.city_ar,"onUpdate:modelValue":t[12]||(t[12]=o=>e(l).currentSupplier.city_ar=o),"content-loading":e(r),type:"text"},null,8,["modelValue","content-loading"])]),_:1},8,["content-loading","label"]),n(i,{label:a.$t("customers.address"),"content-loading":e(r)},{default:s(()=>[n(b,{modelValue:e(l).currentSupplier.address_street_1,"onUpdate:modelValue":t[13]||(t[13]=o=>e(l).currentSupplier.address_street_1=o),modelModifiers:{trim:!0},"content-loading":e(r),placeholder:a.$t("general.street_1"),type:"text",name:"address_street_1","container-class":"mt-3"},null,8,["modelValue","content-loading","placeholder"]),n(b,{modelValue:e(l).currentSupplier.address_street_2,"onUpdate:modelValue":t[14]||(t[14]=o=>e(l).currentSupplier.address_street_2=o),modelModifiers:{trim:!0},"content-loading":e(r),placeholder:a.$t("general.street_2"),type:"text",class:"mt-3",name:"address_street_2","container-class":"mt-3"},null,8,["modelValue","content-loading","placeholder"])]),_:1},8,["label","content-loading"]),n(i,{label:a.$t("customers.address_another"),"content-loading":e(r)},{default:s(()=>[n(b,{modelValue:e(l).currentSupplier.address_street_1_ar,"onUpdate:modelValue":t[15]||(t[15]=o=>e(l).currentSupplier.address_street_1_ar=o),modelModifiers:{trim:!0},"content-loading":e(r),placeholder:a.$t("general.street_1_another"),type:"text","container-class":"mt-3"},null,8,["modelValue","content-loading","placeholder"]),n(b,{modelValue:e(l).currentSupplier.address_street_2_ar,"onUpdate:modelValue":t[16]||(t[16]=o=>e(l).currentSupplier.address_street_2_ar=o),modelModifiers:{trim:!0},"content-loading":e(r),placeholder:a.$t("general.street_2_another"),type:"text",class:"mt-3","container-class":"mt-3"},null,8,["modelValue","content-loading","placeholder"])]),_:1},8,["label","content-loading"]),n(i,{label:a.$t("customers.zip_code"),"content-loading":e(r),class:"mt-2 text-left"},{default:s(()=>[n(c,{modelValue:e(l).currentSupplier.zip,"onUpdate:modelValue":t[17]||(t[17]=o=>e(l).currentSupplier.zip=o),modelModifiers:{trim:!0},"content-loading":e(r),type:"text",name:"zip"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),n(i,{label:a.$t("customers.zip_code_another"),"content-loading":e(r),class:"mt-2 text-left"},{default:s(()=>[n(c,{modelValue:e(l).currentSupplier.zip_ar,"onUpdate:modelValue":t[18]||(t[18]=o=>e(l).currentSupplier.zip_ar=o),modelModifiers:{trim:!0},"content-loading":e(r),type:"text"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),n(i,{label:a.$t("customers.country"),"content-loading":e(r)},{default:s(()=>[n(P,{modelValue:e(l).currentSupplier.country_id,"onUpdate:modelValue":t[19]||(t[19]=o=>e(l).currentSupplier.country_id=o),"value-prop":"id",label:"name","track-by":"name","resolve-on-load":"",searchable:"","content-loading":e(r),options:e(q).countries,placeholder:a.$t("general.select_country"),class:"w-full"},null,8,["modelValue","content-loading","options","placeholder"])]),_:1},8,["label","content-loading"])]),_:1}))])]),_:1}),n(M,{class:"mb-5 md:mb-8"}),p("div",fe,[n(h,{type:"submit",loading:g.value,disabled:g.value},{left:s(o=>[n(B,{name:"SaveIcon",class:k(o.class)},null,8,["class"])]),default:s(()=>[v(" "+$(e(S)?a.$t("stores.update"):a.$t("stores.save")),1)]),_:1},8,["loading","disabled"])])],40,re)]),_:1})}}};export{Be as default};
