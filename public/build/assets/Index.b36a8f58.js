import{e as F,a2 as G,y as A,g as _,$ as o,H as z,l as w,K,M as J,r as c,o as H,c as X,b as i,a,w as d,m as u,q as Q,t as I,s as Z,n as ee,E as te}from"./main.d0ffa6eb.js";const ae={class:"grid gap-8 md:grid-cols-12 pt-10"},oe={class:"col-span-8 md:col-span-4"},re={class:"flex flex-col my-6 lg:space-x-3 lg:flex-row"},se=i("div",{class:"hidden w-5 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"2.5rem"}},null,-1),ne={class:"flex flex-col my-6 lg:space-x-3 lg:flex-row"},le={class:"flex flex-col my-6 lg:space-x-3 lg:flex-row"},de={class:"col-span-8"},ue=["src"],ie={setup(L){const{t:l}=F(),b=G();b.downloadReport=W;const Y=A([l("dateRange.today"),l("dateRange.this_week"),l("dateRange.this_month"),l("dateRange.this_quarter"),l("dateRange.this_year"),l("dateRange.previous_week"),l("dateRange.previous_month"),l("dateRange.previous_quarter"),l("dateRange.previous_year"),l("dateRange.custom")]),V=_([{label:"Sort By",options:["DATE","INVOICE_NUMBER"]}]),r=_([{label:"Order",options:["ASC","DESC"]}]);_(["By Customer","By Item"]);const v=_("By Customer"),D=_(l("dateRange.this_month"));let x=_(new Date),f=_(null),k=_(null),$=_(null),e=A({from_date:o().startOf("month").format("YYYY-MM-DD").toString(),to_date:o().endOf("month").format("YYYY-MM-DD").toString(),sort_by:"DATE",sort_by_order:"ASC"});const h=z(),y=w(()=>f.value),P=w(()=>h.selectedCompany),S=w(()=>`${k.value}?from_date=${o(e.from_date).format("YYYY-MM-DD")}&to_date=${o(e.to_date).format("YYYY-MM-DD")}&sortBy=${e.sort_by}&sort_by_order=${e.sort_by_order}`),R=w(()=>`${$.value}?from_date=${o(e.from_date).format("YYYY-MM-DD")}&to_date=${o(e.to_date).format("YYYY-MM-DD")}`);K(x,t=>{e.from_date=o(t).startOf("year").toString(),e.to_date=o(t).endOf("year").toString(),e.sort_by="DATE",e.sort_by_order="ASC"}),J(()=>{k.value=`/reports/sales/customers/${P.value.unique_hash}`,$.value=`/reports/sales/items/${P.value.unique_hash}`,q()});function p(t,m){return o()[t](m).format("YYYY-MM-DD")}function s(t,m){return o().subtract(1,m)[t](m).format("YYYY-MM-DD")}function g(){switch(D.value){case"Today":e.from_date=o().format("YYYY-MM-DD"),e.to_date=o().format("YYYY-MM-DD");break;case"This Week":e.from_date=p("startOf","isoWeek"),e.to_date=p("endOf","isoWeek");break;case"This Month":e.from_date=p("startOf","month"),e.to_date=p("endOf","month");break;case"This Quarter":e.from_date=p("startOf","quarter"),e.to_date=p("endOf","quarter");break;case"This Year":e.from_date=p("startOf","year"),e.to_date=p("endOf","year");break;case"Previous Week":e.from_date=s("startOf","isoWeek"),e.to_date=s("endOf","isoWeek");break;case"Previous Month":e.from_date=s("startOf","month"),e.to_date=s("endOf","month");break;case"Previous Quarter":e.from_date=s("startOf","quarter"),e.to_date=s("endOf","quarter");break;case"Previous Year":e.from_date=s("startOf","year"),e.to_date=s("endOf","year");break}}async function q(){return v.value==="By Customer"?(f.value=S.value,!0):(f.value=R.value,!0)}async function U(){let t=await O();return window.open(y.value,"_blank"),t}function O(){return v.value==="By Customer"?(f.value=S.value,!0):(f.value=R.value,!0)}function W(){if(!O())return!1;window.open(y.value+"&download=true"),setTimeout(()=>v.value==="By Customer"?(f.value=S.value,!0):(f.value=R.value,!0),200)}function E(t){switch(t){case"DATE":e.sort_by="DATE";break;case"INVOICE_NUMBER":e.sort_by="INVOICE_NUMBER";break;default:e.sort_by="DATE";break}}function n(t){switch(console.log("setSortByOrder",t),t){case"ASC":e.sort_by_order="ASC";break;case"DESC":e.sort_by_order="DESC";break;default:e.sort_by_order="ASC";break}}return(t,m)=>{const C=c("BaseMultiselect"),T=c("BaseInputGroup"),N=c("BaseDatePicker"),j=c("BaseButton"),B=c("BaseIcon");return H(),X("div",ae,[i("div",oe,[a(T,{label:t.$t("reports.sales.date_range"),class:"col-span-12 md:col-span-8"},{default:d(()=>[a(C,{modelValue:D.value,"onUpdate:modelValue":[m[0]||(m[0]=M=>D.value=M),g],options:u(Y)},null,8,["modelValue","options"])]),_:1},8,["label"]),i("div",re,[a(T,{label:t.$t("reports.sales.from_date")},{default:d(()=>[a(N,{modelValue:u(e).from_date,"onUpdate:modelValue":m[1]||(m[1]=M=>u(e).from_date=M)},null,8,["modelValue"])]),_:1},8,["label"]),se,a(T,{label:t.$t("reports.sales.to_date")},{default:d(()=>[a(N,{modelValue:u(e).to_date,"onUpdate:modelValue":m[2]||(m[2]=M=>u(e).to_date=M)},null,8,["modelValue"])]),_:1},8,["label"])]),i("div",ne,[a(T,{label:t.$t("general.sort_by")},{default:d(()=>[a(C,{modelValue:u(e).sort_by,"onUpdate:modelValue":[m[3]||(m[3]=M=>u(e).sort_by=M),E],groups:!0,options:V.value,placeholder:t.$t("general.sort_by"),onRemove:m[4]||(m[4]=M=>t.clearStatusSearch())},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"])]),i("div",le,[a(T,{label:t.$t("general.sort_by_order")},{default:d(()=>[a(C,{modelValue:u(e).sort_by_order,"onUpdate:modelValue":[m[5]||(m[5]=M=>u(e).sort_by_order=M),n],groups:!0,options:r.value,placeholder:t.$t("general.sort_by_order"),onRemove:m[6]||(m[6]=M=>t.clearStatusSearch())},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"])]),a(j,{variant:"primary-outline",class:"content-center hidden mt-0 w-md md:flex md:mt-8",type:"submit",onClick:Z(O,["prevent"])},{default:d(()=>[Q(I(t.$t("reports.update_report")),1)]),_:1},8,["onClick"])]),i("div",de,[i("iframe",{src:u(y),class:"hidden w-full h-screen h-screen-ios border-gray-100 border-solid rounded md:flex"},null,8,ue),i("a",{class:"flex items-center justify-center h-10 px-5 py-1 text-sm font-medium leading-none text-center text-white rounded whitespace-nowrap md:hidden bg-primary-500",onClick:U},[a(B,{name:"DocumentTextIcon",class:"h-5 mr-2"}),i("span",null,I(t.$t("reports.view_pdf")),1)])])])}}},me={class:"grid gap-8 md:grid-cols-12 pt-10"},ce={class:"col-span-8 md:col-span-4"},_e={class:"flex flex-col my-6 lg:space-x-3 lg:flex-row"},fe=i("div",{class:"hidden w-5 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"2.5rem"}},null,-1),pe={class:"flex flex-col my-6 lg:space-x-3 lg:flex-row"},be={class:"flex flex-col my-6 lg:space-x-3 lg:flex-row"},ye={class:"col-span-8"},ge=["src"],ve={setup(L){const{t:l}=F(),b=G();b.downloadReport=W;const Y=A([l("dateRange.today"),l("dateRange.this_week"),l("dateRange.this_month"),l("dateRange.this_quarter"),l("dateRange.this_year"),l("dateRange.previous_week"),l("dateRange.previous_month"),l("dateRange.previous_quarter"),l("dateRange.previous_year"),l("dateRange.custom")]),V=_([{label:"Status",options:["DATE","PURCHASE_NUMBER"]}]),r=_([{label:"Sort By Order",options:["ASC","DESC"]}]);_(["By Customer","By Item"]);const v=_("By Customer"),D=_(l("dateRange.this_month"));let x=_(new Date),f=_(null),k=_(null),$=_(null),e=A({from_date:o().startOf("month").format("YYYY-MM-DD").toString(),to_date:o().endOf("month").format("YYYY-MM-DD").toString(),sort_by:"DATE",sort_by_order:"ASC"});const h=z(),y=w(()=>f.value),P=w(()=>h.selectedCompany),S=w(()=>`${k.value}?from_date=${o(e.from_date).format("YYYY-MM-DD")}&to_date=${o(e.to_date).format("YYYY-MM-DD")}&sortBy=${e.sort_by}&sort_by_order=${e.sort_by_order}`),R=w(()=>`${$.value}?from_date=${o(e.from_date).format("YYYY-MM-DD")}&to_date=${o(e.to_date).format("YYYY-MM-DD")}`);K(x,n=>{e.from_date=o(n).startOf("year").toString(),e.to_date=o(n).endOf("year").toString(),e.sort_by="DATE",e.sort_by_order="ASC"}),J(()=>{k.value=`/reports/purchase/suppliers/${P.value.unique_hash}`,q()});function p(n,t){return o()[n](t).format("YYYY-MM-DD")}function s(n,t){return o().subtract(1,t)[n](t).format("YYYY-MM-DD")}function g(){switch(D.value){case"Today":e.from_date=o().format("YYYY-MM-DD"),e.to_date=o().format("YYYY-MM-DD");break;case"This Week":e.from_date=p("startOf","isoWeek"),e.to_date=p("endOf","isoWeek");break;case"This Month":e.from_date=p("startOf","month"),e.to_date=p("endOf","month");break;case"This Quarter":e.from_date=p("startOf","quarter"),e.to_date=p("endOf","quarter");break;case"This Year":e.from_date=p("startOf","year"),e.to_date=p("endOf","year");break;case"Previous Week":e.from_date=s("startOf","isoWeek"),e.to_date=s("endOf","isoWeek");break;case"Previous Month":e.from_date=s("startOf","month"),e.to_date=s("endOf","month");break;case"Previous Quarter":e.from_date=s("startOf","quarter"),e.to_date=s("endOf","quarter");break;case"Previous Year":e.from_date=s("startOf","year"),e.to_date=s("endOf","year");break}}async function q(){return v.value==="By Customer"?(f.value=S.value,!0):(f.value=R.value,!0)}async function U(){let n=await O();return window.open(y.value,"_blank"),n}function O(){return v.value==="By Customer"?(f.value=S.value,!0):(f.value=R.value,!0)}function W(){if(!O())return!1;window.open(y.value+"&download=true"),setTimeout(()=>v.value==="By Customer"?(f.value=S.value,!0):(f.value=R.value,!0),200)}function E(n){switch(n){case"DATE":filters.sort_by="DATE";break;case"PURCHASE_NUMBER":filters.sort_by="PURCHASE_NUMBER";break;default:filters.sort_by="DATE";break}}return(n,t)=>{const m=c("BaseMultiselect"),C=c("BaseInputGroup"),T=c("BaseDatePicker"),N=c("BaseButton"),j=c("BaseIcon");return H(),X("div",me,[i("div",ce,[a(C,{label:n.$t("reports.sales.date_range"),class:"col-span-12 md:col-span-8"},{default:d(()=>[a(m,{modelValue:D.value,"onUpdate:modelValue":[t[0]||(t[0]=B=>D.value=B),g],options:u(Y)},null,8,["modelValue","options"])]),_:1},8,["label"]),i("div",_e,[a(C,{label:n.$t("reports.sales.from_date")},{default:d(()=>[a(T,{modelValue:u(e).from_date,"onUpdate:modelValue":t[1]||(t[1]=B=>u(e).from_date=B)},null,8,["modelValue"])]),_:1},8,["label"]),fe,a(C,{label:n.$t("reports.sales.to_date")},{default:d(()=>[a(T,{modelValue:u(e).to_date,"onUpdate:modelValue":t[2]||(t[2]=B=>u(e).to_date=B)},null,8,["modelValue"])]),_:1},8,["label"])]),i("div",pe,[a(C,{label:n.$t("general.sort_by")},{default:d(()=>[a(m,{modelValue:u(e).sort_by,"onUpdate:modelValue":[t[3]||(t[3]=B=>u(e).sort_by=B),E],groups:!0,options:V.value,placeholder:n.$t("general.select_a_sort_by"),onRemove:t[4]||(t[4]=B=>n.clearStatusSearch())},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"])]),i("div",be,[a(C,{label:n.$t("general.sort_by_order")},{default:d(()=>[a(m,{modelValue:u(e).sort_by_order,"onUpdate:modelValue":[t[5]||(t[5]=B=>u(e).sort_by_order=B),E],groups:!0,options:r.value,placeholder:n.$t("general.select_a_sort_by_order"),onRemove:t[6]||(t[6]=B=>n.clearStatusSearch())},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"])]),a(N,{variant:"primary-outline",class:"content-center hidden mt-0 w-md md:flex md:mt-8",type:"submit",onClick:Z(O,["prevent"])},{default:d(()=>[Q(I(n.$t("reports.update_report")),1)]),_:1},8,["onClick"])]),i("div",ye,[i("iframe",{src:u(y),class:"hidden w-full h-screen h-screen-ios border-gray-100 border-solid rounded md:flex"},null,8,ge),i("a",{class:"flex items-center justify-center h-10 px-5 py-1 text-sm font-medium leading-none text-center text-white rounded whitespace-nowrap md:hidden bg-primary-500",onClick:U},[a(j,{name:"DocumentTextIcon",class:"h-5 mr-2"}),i("span",null,I(n.$t("reports.view_pdf")),1)])])])}}},he={class:"grid gap-8 md:grid-cols-12 pt-10"},Ye={class:"col-span-8 md:col-span-4"},De={class:"flex flex-col mt-6 lg:space-x-3 lg:flex-row"},Be=i("div",{class:"hidden w-5 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"2.5rem"}},null,-1),ke={class:"col-span-8"},Re=["src"],Me={setup(L){const l=G();l.downloadReport=p;const{t:b}=F(),Y=A([b("dateRange.today"),b("dateRange.this_week"),b("dateRange.this_month"),b("dateRange.this_quarter"),b("dateRange.this_year"),b("dateRange.previous_week"),b("dateRange.previous_month"),b("dateRange.previous_quarter"),b("dateRange.previous_year"),b("dateRange.custom")]),V=_(b("dateRange.this_month")),r=A({from_date:o().startOf("month").format("YYYY-MM-DD").toString(),to_date:o().endOf("month").format("YYYY-MM-DD").toString()});let v=_(null);const D=w(()=>v.value),x=z(),f=w(()=>x.selectedCompany);let k=_(null);J(()=>{k.value=`/reports/sale_purchase/return/${f.value.unique_hash}`,v.value=$.value});const $=w(()=>`${k.value}?from_date=${o(r.from_date).format("YYYY-MM-DD")}&to_date=${o(r.to_date).format("YYYY-MM-DD")}`);let e=_(new Date);K(e.value,s=>{r.from_date=o(s).startOf("year").toString(),r.to_date=o(s).endOf("year").toString()});function h(s,g){return o()[s](g).format("YYYY-MM-DD")}function y(s,g){return o().subtract(1,g)[s](g).format("YYYY-MM-DD")}function P(){switch(V.value){case"Today":r.from_date=o().format("YYYY-MM-DD"),r.to_date=o().format("YYYY-MM-DD");break;case"This Week":r.from_date=h("startOf","isoWeek"),r.to_date=h("endOf","isoWeek");break;case"This Month":r.from_date=h("startOf","month"),r.to_date=h("endOf","month");break;case"This Quarter":r.from_date=h("startOf","quarter"),r.to_date=h("endOf","quarter");break;case"This Year":r.from_date=h("startOf","year"),r.to_date=h("endOf","year");break;case"Previous Week":r.from_date=y("startOf","isoWeek"),r.to_date=y("endOf","isoWeek");break;case"Previous Month":r.from_date=y("startOf","month"),r.to_date=y("endOf","month");break;case"Previous Quarter":r.from_date=y("startOf","quarter"),r.to_date=y("endOf","quarter");break;case"Previous Year":r.from_date=y("startOf","year"),r.to_date=y("endOf","year");break}}async function S(){let s=await R();return window.open(D.value,"_blank"),s}function R(){return v.value=$.value,!0}function p(){!R(),window.open(D.value+"&download=true"),setTimeout(()=>{v.value=$.value},200)}return(s,g)=>{const q=c("BaseMultiselect"),U=c("BaseInputGroup"),O=c("BaseDatePicker"),W=c("BaseButton"),E=c("BaseIcon");return H(),X("div",he,[i("div",Ye,[a(U,{label:s.$t("reports.taxes.date_range"),class:"col-span-12 md:col-span-8"},{default:d(()=>[a(q,{modelValue:V.value,"onUpdate:modelValue":[g[0]||(g[0]=n=>V.value=n),P],options:u(Y)},null,8,["modelValue","options"])]),_:1},8,["label"]),i("div",De,[a(U,{label:s.$t("reports.taxes.from_date")},{default:d(()=>[a(O,{modelValue:u(r).from_date,"onUpdate:modelValue":g[1]||(g[1]=n=>u(r).from_date=n)},null,8,["modelValue"])]),_:1},8,["label"]),Be,a(U,{label:s.$t("reports.taxes.to_date")},{default:d(()=>[a(O,{modelValue:u(r).to_date,"onUpdate:modelValue":g[2]||(g[2]=n=>u(r).to_date=n)},null,8,["modelValue"])]),_:1},8,["label"])]),a(W,{variant:"primary-outline",class:"content-center hidden mt-0 w-md md:flex md:mt-8",type:"submit",onClick:Z(R,["prevent"])},{default:d(()=>[Q(I(s.$t("reports.update_report")),1)]),_:1},8,["onClick"])]),i("div",ke,[i("iframe",{src:u(D),class:"hidden w-full h-screen h-screen-ios border-gray-100 border-solid rounded md:flex"},null,8,Re),i("a",{class:"flex items-center justify-center h-10 px-5 py-1 text-sm font-medium leading-none text-center text-white rounded whitespace-nowrap md:hidden bg-primary-500",onClick:S},[a(E,{name:"DocumentTextIcon",class:"h-5 mr-2"}),i("span",null,I(s.$t("reports.view_pdf")),1)])])])}}},$e={setup(L){const l=G();function b(){l.downloadReport()}return(Y,V)=>{const r=c("BaseBreadcrumbItem"),v=c("BaseBreadcrumb"),D=c("BaseIcon"),x=c("BaseButton"),f=c("BasePageHeader"),k=c("BaseTab"),$=c("BaseTabGroup"),e=c("BasePage");return H(),ee(e,null,{default:d(()=>[a(f,{title:Y.$tc("reports.report",2)},{actions:d(()=>[a(x,{variant:"primary",class:"ml-4",onClick:b},{left:d(h=>[a(D,{name:"DownloadIcon",class:te(h.class)},null,8,["class"])]),default:d(()=>[Q(" "+I(Y.$t("reports.download_pdf")),1)]),_:1})]),default:d(()=>[a(v,null,{default:d(()=>[a(r,{title:Y.$t("general.home"),to:"/admin/dashboard"},null,8,["title"]),a(r,{title:Y.$tc("reports.report",2),to:"/admin/reports",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),a($,{class:"p-2"},{default:d(()=>[a(k,{title:Y.$t("reports.sales.sales"),"tab-panel-container":"px-0 py-0"},{default:d(()=>[a(ie,{ref:"report"},null,512)]),_:1},8,["title"]),a(k,{title:Y.$t("reports.purchase.purchase"),"tab-panel-container":"px-0 py-0"},{default:d(()=>[a(ve,{ref:"report"},null,512)]),_:1},8,["title"]),a(k,{title:Y.$t("reports.taxes.taxes"),"tab-panel-container":"px-0 py-0"},{default:d(()=>[a(Me,{ref:"report"},null,512)]),_:1},8,["title"])]),_:1})]),_:1})}}};export{$e as default};
