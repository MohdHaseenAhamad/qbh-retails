import{u as w,e as S,y as V,g as _,h as f,i as I,j as q,k as x,r as n,o as r,c as u,a as l,w as m,m as t,t as d,b as N,q as M,s as C,v as D,B as E}from"./main.d0ffa6eb.js";const G=["onSubmit"],j={key:0},F={key:1},L={class:"mt-4 mb-4 text-sm"},z={setup(T){const g=w(),{t:c}=S(),i=V({email:""}),p=_(!1),s=_(!1),y={email:{required:f.withMessage(c("validation.required"),I),email:f.withMessage(c("validation.email_incorrect"),q)}},a=x(y,i);async function h(o){if(a.value.$touch(),!a.value.$invalid)try{s.value=!0,(await D.post("/api/v1/auth/password/email",i)).data&&g.showNotification({type:"success",message:"Mail sent successfully"}),p.value=!0,s.value=!1}catch(e){E(e),s.value=!1}}return(o,e)=>{const $=n("BaseInput"),b=n("BaseInputGroup"),B=n("BaseButton"),k=n("router-link");return r(),u("form",{id:"loginForm",onSubmit:C(h,["prevent"])},[l(b,{error:t(a).email.$error&&t(a).email.$errors[0].$message,label:o.$t("login.enter_email"),class:"mb-4",required:""},{default:m(()=>[l($,{modelValue:t(i).email,"onUpdate:modelValue":e[0]||(e[0]=v=>t(i).email=v),invalid:t(a).email.$error,focus:"",type:"email",name:"email",onInput:e[1]||(e[1]=v=>t(a).email.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["error","label"]),l(B,{loading:s.value,disabled:s.value,type:"submit",variant:"primary"},{default:m(()=>[p.value?(r(),u("div",F,d(o.$t("validation.not_yet")),1)):(r(),u("div",j,d(o.$t("validation.send_reset_link")),1))]),_:1},8,["loading","disabled"]),N("div",L,[l(k,{to:"/login",class:"text-sm text-primary-400 hover:text-gray-700"},{default:m(()=>[M(d(o.$t("general.back_to_login")),1)]),_:1})])],40,G)}}};export{z as default};
