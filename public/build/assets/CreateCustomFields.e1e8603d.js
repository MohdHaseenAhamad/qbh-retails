import{e as _,h as f,a5 as v,k as T,l as m,a6 as E,r as P,o as d,n as p,w as D,D as q,m as n,a7 as s,a1 as I,a8 as g,K as h,c as V,a9 as w,aa as b,U as F,$ as L}from"./main.d0ffa6eb.js";/* empty css                                                                      */function O(e){switch(e){case"./types/DateTimeType.vue":return s(()=>import("./DateTimeType.72426cb5.js"),["assets/DateTimeType.72426cb5.js","assets/main.d0ffa6eb.js","assets/main.7879e0c3.css"]);case"./types/DateType.vue":return s(()=>import("./DateType.3dcce8ff.js"),["assets/DateType.3dcce8ff.js","assets/main.d0ffa6eb.js","assets/main.7879e0c3.css"]);case"./types/DropdownType.vue":return s(()=>import("./DropdownType.26830148.js"),["assets/DropdownType.26830148.js","assets/main.d0ffa6eb.js","assets/main.7879e0c3.css"]);case"./types/InputType.vue":return s(()=>import("./InputType.e2b133c7.js"),["assets/InputType.e2b133c7.js","assets/main.d0ffa6eb.js","assets/main.7879e0c3.css"]);case"./types/NumberType.vue":return s(()=>import("./NumberType.0c268a0c.js"),["assets/NumberType.0c268a0c.js","assets/main.d0ffa6eb.js","assets/main.7879e0c3.css"]);case"./types/PhoneType.vue":return s(()=>import("./PhoneType.9487e01b.js"),["assets/PhoneType.9487e01b.js","assets/main.d0ffa6eb.js","assets/main.7879e0c3.css"]);case"./types/SwitchType.vue":return s(()=>import("./SwitchType.cdf90c35.js"),["assets/SwitchType.cdf90c35.js","assets/main.d0ffa6eb.js","assets/main.7879e0c3.css"]);case"./types/TextAreaType.vue":return s(()=>import("./TextAreaType.247acd06.js"),["assets/TextAreaType.247acd06.js","assets/main.d0ffa6eb.js","assets/main.7879e0c3.css"]);case"./types/TimeType.vue":return s(()=>import("./TimeType.95dadbc0.js"),["assets/TimeType.95dadbc0.js","assets/main.d0ffa6eb.js","assets/main.7879e0c3.css"]);case"./types/UrlType.vue":return s(()=>import("./UrlType.16da7cd4.js"),["assets/UrlType.16da7cd4.js","assets/main.d0ffa6eb.js","assets/main.7879e0c3.css"]);default:return new Promise(function(t,u){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(u.bind(null,new Error("Unknown variable dynamic import: "+e)))})}}const S={props:{field:{type:Object,required:!0},customFieldScope:{type:String,required:!0},index:{type:Number,required:!0},store:{type:Object,required:!0},storeProp:{type:String,required:!0}},setup(e){const t=e,{t:u}=_(),l={value:{required:f.withMessage(u("validation.required"),v(t.field.is_required))}},a=T(l,m(()=>t.field),{$scope:t.customFieldScope}),r=m(()=>t.field.type?E(()=>O(`./types/${t.field.type}Type.vue`)):!1);return(i,o)=>{const c=P("BaseInputGroup");return d(),p(c,{label:e.field.label,required:!!e.field.is_required,error:n(a).value.$error&&n(a).value.$errors[0].$message},{default:D(()=>[(d(),p(q(n(r)),{modelValue:e.field.value,"onUpdate:modelValue":o[0]||(o[0]=y=>e.field.value=y),options:e.field.options,invalid:n(a).value.$error,placeholder:e.field.placeholder},null,8,["modelValue","options","invalid","placeholder"]))]),_:1},8,["label","required","error"])}}},R={props:{store:{type:Object,required:!0},storeProp:{type:String,required:!0},isEdit:{type:Boolean,default:!1},type:{type:String,default:null},gridLayout:{type:String,default:"two-column"},isLoading:{type:Boolean,default:null},customFieldScope:{type:String,required:!0},disable:{type:Boolean,required:!1,default:!1}},setup(e){const t=e,u=I();a();function l(){t.isEdit&&t.store[t.storeProp].fields.forEach(r=>{const i=t.store[t.storeProp].customFields.findIndex(o=>o.id===r.custom_field_id);if(i>-1){let o=r.default_answer;o&&r.custom_field.type==="DateTime"&&(o=L(r.default_answer,"YYYY-MM-DD HH:mm:ss").format("YYYY-MM-DD HH:mm")),t.store[t.storeProp].customFields[i]={...r,id:r.custom_field_id,value:o,label:r.custom_field.label,options:r.custom_field.options,is_required:r.custom_field.is_required,placeholder:r.custom_field.placeholder,order:r.custom_field.order}}})}async function a(){let i=(await u.fetchCustomFields({type:t.type,limit:"all"})).data.data;i.map(o=>o.value=o.default_answer),t.store[t.storeProp].customFields=g.sortBy(i,o=>o.order),l()}return h(()=>t.store[t.storeProp].fields,r=>{l()}),(r,i)=>e.store[e.storeProp]&&e.store[e.storeProp].customFields.length>0&&!e.isLoading?(d(!0),V(b,{key:0},w(e.store[e.storeProp].customFields,(o,c)=>(d(),p(S,{key:o.id,"custom-field-scope":e.customFieldScope,store:e.store,"store-prop":e.storeProp,index:c,field:o},null,8,["custom-field-scope","store","store-prop","index","field"]))),128)):F("",!0)}};export{R as _};
