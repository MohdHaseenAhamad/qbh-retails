import{X as K,a1 as O,a2 as Q,a3 as W,e as Y,f as Z,x as ee,g as I,l as V,h as p,i as x,z as S,j as te,a4 as k,k as ne,r as m,o as v,n as z,w as s,b as g,a as n,E as oe,q as le,t as $,m as e,U as q,c as re,s as ae}from"./main.d0ffa6eb.js";import{_ as se}from"./CreateCustomFields.e1e8603d.js";/* empty css                                                                      */const ue=["onSubmit"],ie={class:"flex items-center justify-end"},de={class:"grid grid-cols-5 gap-4 mb-8"},me={class:"col-span-5 text-lg font-semibold text-left lg:col-span-1"},ce={class:"grid grid-cols-5 gap-4 mb-8"},ge={class:"col-span-5 text-lg font-semibold text-left lg:col-span-1"},pe={class:"space-y-6"},be={class:"grid grid-cols-5 gap-2 mb-8"},fe={key:0,class:"col-span-5 text-lg font-semibold text-left lg:col-span-1"},_e={class:"col-span-5 lg:col-span-4"},ve={setup(Ce){const o=K(),F=O(),B=Q(),L=W(),h="customFields",{t:c}=Y(),D=Z(),G=ee();let r=I(!1);const f=I(!1),b=V(()=>G.name==="customers.edit");let N=V(()=>o.isFetchingInitialSettings);const U=V(()=>b.value?c("customers.edit_customer"):c("customers.new_customer")),P=V(()=>({currentCustomer:{name:{required:p.withMessage(c("validation.required"),x),minLength:p.withMessage(c("validation.name_min_length",{count:3}),S(3))},prefix:{minLength:p.withMessage(c("validation.name_min_length",{count:3}),S(3))},currency_id:{required:p.withMessage(c("validation.required"),x)},email:{email:p.withMessage(c("validation.email_incorrect"),te)},billing:{address_street_1:{maxLength:p.withMessage(c("validation.address_maxlength",{count:255}),k(255))},address_street_2:{maxLength:p.withMessage(c("validation.address_maxlength",{count:255}),k(255))}}}})),u=ne(P,o,{$scope:h});o.resetCurrentCustomer(),o.fetchCustomerInitialSettings(b.value);async function T(){if(u.value.$touch(),u.value.$invalid)return!0;f.value=!0;let a={...o.currentCustomer},t=null;try{t=await(b.value?o.updateCustomer:o.addCustomer)(a)}catch{f.value=!1;return}D.push(`/admin/customers/${t.data.data.id}/view`)}return(a,t)=>{const _=m("BaseBreadcrumbItem"),E=m("BaseBreadcrumb-item"),j=m("BaseBreadcrumb"),H=m("BaseIcon"),R=m("BaseButton"),X=m("BasePageHeader"),d=m("BaseInput"),i=m("BaseInputGroup"),y=m("BaseMultiselect"),w=m("BaseInputGrid"),M=m("BaseDivider"),C=m("BaseTextarea"),A=m("BaseCard"),J=m("BasePage");return v(),z(J,null,{default:s(()=>[g("form",{onSubmit:ae(T,["prevent"])},[n(X,{title:e(U)},{actions:s(()=>[g("div",ie,[n(R,{type:"submit",loading:f.value,disabled:f.value},{left:s(l=>[n(H,{name:"SaveIcon",class:oe(l.class)},null,8,["class"])]),default:s(()=>[le(" "+$(e(b)?a.$t("customers.update_customer"):a.$t("customers.save_customer")),1)]),_:1},8,["loading","disabled"])])]),default:s(()=>[n(j,null,{default:s(()=>[n(_,{title:a.$t("general.home"),to:"dashboard"},null,8,["title"]),n(_,{title:a.$tc("customers.customer",2),to:"/admin/customers"},null,8,["title"]),n(E,{title:e(U),to:"#",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),n(A,{class:"mt-5"},{default:s(()=>[g("div",de,[g("h6",me,$(a.$t("customers.basic_info")),1),n(w,{class:"col-span-5 lg:col-span-4"},{default:s(()=>[n(i,{label:a.$t("customers.display_name"),required:"",error:e(u).currentCustomer.name.$error&&e(u).currentCustomer.name.$errors[0].$message,"content-loading":e(r)},{default:s(()=>[n(d,{modelValue:e(o).currentCustomer.name,"onUpdate:modelValue":t[0]||(t[0]=l=>e(o).currentCustomer.name=l),"content-loading":e(r),type:"text",name:"name",class:"",invalid:e(u).currentCustomer.name.$error,onInput:t[1]||(t[1]=l=>e(u).currentCustomer.name.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","error","content-loading"]),n(i,{label:a.$t("customers.primary_contact_name"),"content-loading":e(r)},{default:s(()=>[n(d,{modelValue:e(o).currentCustomer.contact_name,"onUpdate:modelValue":t[2]||(t[2]=l=>e(o).currentCustomer.contact_name=l),modelModifiers:{trim:!0},"content-loading":e(r),type:"text"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),n(i,{error:e(u).currentCustomer.email.$error&&e(u).currentCustomer.email.$errors[0].$message,"content-loading":e(r),label:a.$t("customers.email")},{default:s(()=>[n(d,{modelValue:e(o).currentCustomer.email,"onUpdate:modelValue":t[3]||(t[3]=l=>e(o).currentCustomer.email=l),modelModifiers:{trim:!0},"content-loading":e(r),type:"text",name:"email",invalid:e(u).currentCustomer.email.$error,onInput:t[4]||(t[4]=l=>e(u).currentCustomer.email.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["error","content-loading","label"]),n(i,{label:a.$t("customers.phone"),"content-loading":e(r)},{default:s(()=>[n(d,{modelValue:e(o).currentCustomer.phone,"onUpdate:modelValue":t[5]||(t[5]=l=>e(o).currentCustomer.phone=l),modelModifiers:{trim:!0},"content-loading":e(r),type:"text",name:"phone"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),n(i,{label:a.$t("customers.website"),"content-loading":e(r)},{default:s(()=>[n(d,{modelValue:e(o).currentCustomer.website,"onUpdate:modelValue":t[6]||(t[6]=l=>e(o).currentCustomer.website=l),"content-loading":e(r),type:"text"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),n(i,{label:a.$t("customers.website_another"),"content-loading":e(r)},{default:s(()=>[n(d,{modelValue:e(o).currentCustomer.website_ar,"onUpdate:modelValue":t[7]||(t[7]=l=>e(o).currentCustomer.website_ar=l),"content-loading":e(r),type:"text"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),n(i,{label:a.$t("customers.prefix"),error:e(u).currentCustomer.prefix.$error&&e(u).currentCustomer.prefix.$errors[0].$message,"content-loading":e(r)},{default:s(()=>[n(d,{modelValue:e(o).currentCustomer.prefix,"onUpdate:modelValue":t[8]||(t[8]=l=>e(o).currentCustomer.prefix=l),"content-loading":e(r),type:"text",name:"name",class:"",invalid:e(u).currentCustomer.prefix.$error,onInput:t[9]||(t[9]=l=>e(u).currentCustomer.prefix.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","error","content-loading"]),n(i,{label:a.$t("customers.prefix_another"),"content-loading":e(r)},{default:s(()=>[n(d,{modelValue:e(o).currentCustomer.prefix_ar,"onUpdate:modelValue":t[10]||(t[10]=l=>e(o).currentCustomer.prefix_ar=l),"content-loading":e(r),type:"text"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),n(i,{label:a.$t("customers.primary_currency"),"content-loading":e(r),error:e(u).currentCustomer.currency_id.$error&&e(u).currentCustomer.currency_id.$errors[0].$message,required:""},{default:s(()=>[n(y,{modelValue:e(o).currentCustomer.currency_id,"onUpdate:modelValue":t[11]||(t[11]=l=>e(o).currentCustomer.currency_id=l),"value-prop":"id",label:"name","track-by":"name","content-loading":e(r),options:e(B).currencies,searchable:"","can-deselect":!1,placeholder:a.$t("customers.select_currency"),invalid:e(u).currentCustomer.currency_id.$error,class:"w-full"},null,8,["modelValue","content-loading","options","placeholder","invalid"])]),_:1},8,["label","content-loading","error"]),n(i,{label:a.$t("categories.name"),"content-loading":e(r)},{default:s(()=>[n(y,{modelValue:e(o).currentCustomer.category_id,"onUpdate:modelValue":t[12]||(t[12]=l=>e(o).currentCustomer.category_id=l),"value-prop":"id",label:"name","track-by":"name","content-loading":e(r),options:e(L).categories,searchable:"","can-deselect":!1,placeholder:a.$t("categories.select"),class:"w-full"},null,8,["modelValue","content-loading","options","placeholder"])]),_:1},8,["label","content-loading"])]),_:1})]),n(M,{class:"mb-5 md:mb-8"}),g("div",ce,[g("h6",ge,$(a.$t("customers.billing_address")),1),e(o).currentCustomer.billing?(v(),z(w,{key:0,class:"col-span-5 lg:col-span-4"},{default:s(()=>[n(i,{label:a.$t("customers.name"),"content-loading":e(r)},{default:s(()=>[n(d,{modelValue:e(o).currentCustomer.billing.name,"onUpdate:modelValue":t[13]||(t[13]=l=>e(o).currentCustomer.billing.name=l),modelModifiers:{trim:!0},"content-loading":e(r),type:"text",class:"w-full",name:"address_name"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),n(i,{label:a.$t("customers.name_another"),"content-loading":e(r)},{default:s(()=>[n(d,{modelValue:e(o).currentCustomer.name_ar,"onUpdate:modelValue":t[14]||(t[14]=l=>e(o).currentCustomer.name_ar=l),modelModifiers:{trim:!0},"content-loading":e(r),type:"text",class:"w-full"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),n(i,{label:a.$t("customers.state"),"content-loading":e(r)},{default:s(()=>[n(d,{modelValue:e(o).currentCustomer.billing.state,"onUpdate:modelValue":t[15]||(t[15]=l=>e(o).currentCustomer.billing.state=l),"content-loading":e(r),name:"billing.state",type:"text"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),n(i,{label:a.$t("customers.state_another"),"content-loading":e(r)},{default:s(()=>[n(d,{modelValue:e(o).currentCustomer.state_ar,"onUpdate:modelValue":t[16]||(t[16]=l=>e(o).currentCustomer.state_ar=l),"content-loading":e(r),name:"billing.state",type:"text"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),n(i,{"content-loading":e(r),label:a.$t("customers.city")},{default:s(()=>[n(d,{modelValue:e(o).currentCustomer.billing.city,"onUpdate:modelValue":t[17]||(t[17]=l=>e(o).currentCustomer.billing.city=l),"content-loading":e(r),name:"billing.city",type:"text"},null,8,["modelValue","content-loading"])]),_:1},8,["content-loading","label"]),n(i,{"content-loading":e(r),label:a.$t("customers.city_another")},{default:s(()=>[n(d,{modelValue:e(o).currentCustomer.city_ar,"onUpdate:modelValue":t[18]||(t[18]=l=>e(o).currentCustomer.city_ar=l),"content-loading":e(r),type:"text"},null,8,["modelValue","content-loading"])]),_:1},8,["content-loading","label"]),n(i,{label:a.$t("customers.address"),error:e(u).currentCustomer.billing.address_street_1.$error&&e(u).currentCustomer.billing.address_street_1.$errors[0].$message||e(u).currentCustomer.billing.address_street_2.$error&&e(u).currentCustomer.billing.address_street_2.$errors[0].$message,"content-loading":e(r)},{default:s(()=>[n(C,{modelValue:e(o).currentCustomer.billing.address_street_1,"onUpdate:modelValue":t[19]||(t[19]=l=>e(o).currentCustomer.billing.address_street_1=l),modelModifiers:{trim:!0},"content-loading":e(r),placeholder:a.$t("general.street_1"),type:"text",name:"billing_street1","container-class":"mt-3",onInput:t[20]||(t[20]=l=>e(u).currentCustomer.billing.address_street_1.$touch())},null,8,["modelValue","content-loading","placeholder"]),n(C,{modelValue:e(o).currentCustomer.billing.address_street_2,"onUpdate:modelValue":t[21]||(t[21]=l=>e(o).currentCustomer.billing.address_street_2=l),modelModifiers:{trim:!0},"content-loading":e(r),placeholder:a.$t("general.street_2"),type:"text",class:"mt-3",name:"billing_street2","container-class":"mt-3",onInput:t[22]||(t[22]=l=>e(u).currentCustomer.billing.address_street_2.$touch())},null,8,["modelValue","content-loading","placeholder"])]),_:1},8,["label","error","content-loading"]),n(i,{label:a.$t("customers.address_another"),"content-loading":e(r)},{default:s(()=>[n(C,{modelValue:e(o).currentCustomer.address_street_1_ar,"onUpdate:modelValue":t[23]||(t[23]=l=>e(o).currentCustomer.address_street_1_ar=l),modelModifiers:{trim:!0},"content-loading":e(r),placeholder:a.$t("general.street_1_another"),type:"text","container-class":"mt-3"},null,8,["modelValue","content-loading","placeholder"]),n(C,{modelValue:e(o).currentCustomer.address_street_2_ar,"onUpdate:modelValue":t[24]||(t[24]=l=>e(o).currentCustomer.address_street_2_ar=l),modelModifiers:{trim:!0},"content-loading":e(r),placeholder:a.$t("general.street_2_another"),type:"text",class:"mt-3","container-class":"mt-3"},null,8,["modelValue","content-loading","placeholder"])]),_:1},8,["label","content-loading"]),g("div",pe,[n(i,{"content-loading":e(r),label:a.$t("customers.phone"),class:"text-left"},{default:s(()=>[n(d,{modelValue:e(o).currentCustomer.billing.phone,"onUpdate:modelValue":t[25]||(t[25]=l=>e(o).currentCustomer.billing.phone=l),modelModifiers:{trim:!0},"content-loading":e(r),type:"text",name:"phone"},null,8,["modelValue","content-loading"])]),_:1},8,["content-loading","label"]),n(i,{"content-loading":e(r),label:a.$t("customers.phone_another"),class:"text-left"},{default:s(()=>[n(d,{modelValue:e(o).currentCustomer.phone_ar,"onUpdate:modelValue":t[26]||(t[26]=l=>e(o).currentCustomer.phone_ar=l),modelModifiers:{trim:!0},"content-loading":e(r),type:"text"},null,8,["modelValue","content-loading"])]),_:1},8,["content-loading","label"]),n(i,{label:a.$t("customers.zip_code"),"content-loading":e(r),class:"mt-2 text-left"},{default:s(()=>[n(d,{modelValue:e(o).currentCustomer.billing.zip,"onUpdate:modelValue":t[27]||(t[27]=l=>e(o).currentCustomer.billing.zip=l),modelModifiers:{trim:!0},"content-loading":e(r),type:"text",name:"zip"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),n(i,{label:a.$t("customers.zip_code_another"),"content-loading":e(r),class:"mt-2 text-left"},{default:s(()=>[n(d,{modelValue:e(o).currentCustomer.zip_ar,"onUpdate:modelValue":t[28]||(t[28]=l=>e(o).currentCustomer.zip_ar=l),modelModifiers:{trim:!0},"content-loading":e(r),type:"text"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),n(i,{label:a.$t("customers.country"),"content-loading":e(r)},{default:s(()=>[n(y,{modelValue:e(o).currentCustomer.billing.country_id,"onUpdate:modelValue":t[29]||(t[29]=l=>e(o).currentCustomer.billing.country_id=l),"value-prop":"id",label:"name","track-by":"name","resolve-on-load":"",searchable:"","content-loading":e(r),options:e(B).countries,placeholder:a.$t("general.select_country"),class:"w-full"},null,8,["modelValue","content-loading","options","placeholder"])]),_:1},8,["label","content-loading"])])]),_:1})):q("",!0)]),n(M,{class:"mb-5 md:mb-8"}),g("div",be,[e(F).customFields.length>0?(v(),re("h6",fe,$(a.$t("settings.custom_fields.title")),1)):q("",!0),g("div",_e,[n(se,{type:"Customer",store:e(o),"store-prop":"currentCustomer","is-edit":e(b),"is-loading":e(N),"custom-field-scope":h},null,8,["store","is-edit","is-loading"])])])]),_:1})],40,ue)]),_:1})}}};export{ve as default};
