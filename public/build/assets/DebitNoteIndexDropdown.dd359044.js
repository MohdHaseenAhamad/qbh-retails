import{aq as N,Q as C,u as T,R as A,I as z,e as E,x as F,f as L,F as R,r as c,o as f,n as b,w as o,m as y,a as t,S as v,T as D,q as u,t as d,J as V,U as j}from"./main.d0ffa6eb.js";const q={props:{row:{type:Object,default:null},table:{type:Object,default:null},loadData:{type:Function,default:()=>{}}},setup(r){const m=r,g=N();C(),T();const p=A(),_=z(),{t:n}=E(),w=F(),k=L();R("utils");async function I(e){p.openDialog({title:n("general.are_you_sure"),message:n("debits.confirm_delete"),yesLabel:n("general.ok"),noLabel:n("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(s=>{e=e,s&&g.deleteDebitNote({ids:[e]}).then(a=>{a.data.success&&(k.push("/admin/debit-note"),m.table&&m.table.refresh(),g.$patch(i=>{i.selectedInvoices=[],i.selectAllField=!1}))})})}function S(e){return e.status=="DRAFT"&&w.name!=="debits.view"&&_.hasAbilities(V.SEND_INVOICE)}async function B(e){p.openDialog({title:n("general.are_you_sure"),message:n("debitnote.debitnote_mark_as_sent"),yesLabel:n("general.ok"),noLabel:n("general.cancel"),variant:"primary",hideNoButton:!1,size:"lg"}).then(s=>{const a={id:e,status:"SENT",is_edit:"0"};s&&(g.markAsSent(a).then(i=>{m.table&&m.table.refresh()}),window.location.href=window.location.href)})}return(e,s)=>{const a=c("BaseIcon"),i=c("BaseButton"),l=c("BaseDropdownItem"),h=c("router-link"),x=c("BaseDropdown");return f(),b(x,null,{activator:o(()=>[y(w).name==="items.view"?(f(),b(i,{key:0,variant:"primary"},{default:o(()=>[t(a,{name:"DotsHorizontalIcon",class:"h-5 text-white"})]),_:1})):(f(),b(a,{key:1,name:"DotsHorizontalIcon",class:"h-5 text-gray-500"}))]),default:o(()=>[v(t(h,{to:`/admin/debit-note/${r.row.id}/create`},{default:o(()=>[t(l,null,{default:o(()=>[t(a,{name:"PlusIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),u(" "+d(e.$t("general.create")),1)]),_:1})]),_:1},8,["to"]),[[D,y(g).selectedTab!="debit"]]),v(t(h,{to:`/admin/debit-note/${r.row.id}/view`},{default:o(()=>[t(l,null,{default:o(()=>[t(a,{name:"EyeIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),u(" "+d(e.$t("general.view")),1)]),_:1})]),_:1},8,["to"]),[[D,y(w).name!="debit.view"]]),t(h,{to:`/admin/debit-note/${r.row.id}/edit`},{default:o(()=>[t(l,null,{default:o(()=>[t(a,{name:"PencilIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),u(" "+d(e.$t("general.edit")),1)]),_:1})]),_:1},8,["to"]),S(r.row)?(f(),b(l,{key:0,onClick:s[0]||(s[0]=$=>B(r.row.id))},{default:o(()=>[t(a,{name:"CheckCircleIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),u(" "+d(e.$t("debitnote.mark_as_sent")),1)]),_:1})):j("",!0),t(l,{onClick:s[1]||(s[1]=$=>I(r.row.id))},{default:o(()=>[t(a,{name:"TrashIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),u(" "+d(e.$t("general.delete")),1)]),_:1})]),_:1})}}};export{q as _};
