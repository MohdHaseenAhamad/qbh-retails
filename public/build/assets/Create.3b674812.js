import{ac as O,a1 as Q,a2 as W,a3 as X,e as Y,f as Z,x as ee,g as x,l as V,h as g,i as C,z as v,j as te,a4 as k,k as le,r as p,o as B,n as z,w as i,b as c,a as l,E as ne,q as oe,t as $,m as e,U as q,c as re,s as ae}from"./main.d0ffa6eb.js";import{_ as ie}from"./CreateCustomFields.e1e8603d.js";/* empty css                                                                      */const se=["onSubmit"],ue={class:"flex items-center justify-end"},de={class:"grid grid-cols-5 gap-4 mb-8"},pe={class:"col-span-5 text-lg font-semibold text-left lg:col-span-1"},me={class:"grid grid-cols-5 gap-4 mb-8"},ce={class:"col-span-5 text-lg font-semibold text-left lg:col-span-1"},ge={class:"space-y-6"},be={class:"grid grid-cols-5 gap-2 mb-8"},Se={key:0,class:"col-span-5 text-lg font-semibold text-left lg:col-span-1"},_e={class:"col-span-5 lg:col-span-4"},ve={setup(fe){const n=O(),L=Q(),h=W(),F=X(),w="customFields",{t:m}=Y(),D=Z(),G=ee();let r=x(!1);const _=x(!1),b=V(()=>G.name==="suppliers.edit");let N=V(()=>n.isFetchingInitialSettings);const U=V(()=>b.value?m("suppliers.edit_supplier"):m("suppliers.add_new_supplier")),P=V(()=>({currentSupplier:{name:{required:g.withMessage(m("validation.required"),C),minLength:g.withMessage(m("validation.name_min_length",{count:3}),v(3))},prefix:{minLength:g.withMessage(m("validation.name_min_length",{count:3}),v(3))},website:{minLength:g.withMessage(m("validation.name_min_length",{count:3}),v(3))},currency_id:{required:g.withMessage(m("validation.required"),C)},email:{email:g.withMessage(m("validation.email_incorrect"),te)},billing:{address_street_1:{maxLength:g.withMessage(m("validation.address_maxlength",{count:255}),k(255))},address_street_2:{maxLength:g.withMessage(m("validation.address_maxlength",{count:255}),k(255))}}}})),s=le(P,n,{$scope:w});n.resetCurrentSupplier(),n.fetchSupplierInitialSettings(b.value);async function T(){if(s.value.$touch(),s.value.$invalid)return!0;_.value=!0;let a={...n.currentSupplier},t=null;try{const S=b.value?n.updateSupplier:n.addSupplier;console.log(a),t=await S(a)}catch{_.value=!1;return}D.push(`/admin/suppliers/${t.data.data.id}/view`)}return(a,t)=>{const S=p("BaseBreadcrumbItem"),E=p("BaseBreadcrumb-item"),j=p("BaseBreadcrumb"),H=p("BaseIcon"),R=p("BaseButton"),A=p("BasePageHeader"),d=p("BaseInput"),u=p("BaseInputGroup"),y=p("BaseMultiselect"),M=p("BaseInputGrid"),I=p("BaseDivider"),f=p("BaseTextarea"),J=p("BaseCard"),K=p("BasePage");return B(),z(K,null,{default:i(()=>[c("form",{onSubmit:ae(T,["prevent"])},[l(A,{title:e(U)},{actions:i(()=>[c("div",ue,[l(R,{type:"submit",loading:_.value,disabled:_.value},{left:i(o=>[l(H,{name:"SaveIcon",class:ne(o.class)},null,8,["class"])]),default:i(()=>[oe(" "+$(e(b)?a.$t("suppliers.update_supplier"):a.$t("suppliers.save_supplier")),1)]),_:1},8,["loading","disabled"])])]),default:i(()=>[l(j,null,{default:i(()=>[l(S,{title:a.$t("general.home"),to:"/admin/dashboard"},null,8,["title"]),l(S,{title:a.$tc("suppliers.supplier",2),to:"/admin/suppliers"},null,8,["title"]),l(E,{title:e(U),to:"#",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),l(J,{class:"mt-5"},{default:i(()=>[c("div",de,[c("h6",pe,$(a.$t("customers.basic_info")),1),l(M,{class:"col-span-5 lg:col-span-4"},{default:i(()=>[l(u,{label:a.$t("customers.display_name"),required:"",error:e(s).currentSupplier.name.$error&&e(s).currentSupplier.name.$errors[0].$message,"content-loading":e(r)},{default:i(()=>[l(d,{modelValue:e(n).currentSupplier.name,"onUpdate:modelValue":t[0]||(t[0]=o=>e(n).currentSupplier.name=o),"content-loading":e(r),type:"text",name:"name",class:"",invalid:e(s).currentSupplier.name.$error,onInput:t[1]||(t[1]=o=>e(s).currentSupplier.name.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","error","content-loading"]),l(u,{label:a.$t("customers.primary_contact_name"),"content-loading":e(r)},{default:i(()=>[l(d,{modelValue:e(n).currentSupplier.contact_name,"onUpdate:modelValue":t[2]||(t[2]=o=>e(n).currentSupplier.contact_name=o),modelModifiers:{trim:!0},"content-loading":e(r),type:"text"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),l(u,{error:e(s).currentSupplier.email.$error&&e(s).currentSupplier.email.$errors[0].$message,"content-loading":e(r),label:a.$t("customers.email")},{default:i(()=>[l(d,{modelValue:e(n).currentSupplier.email,"onUpdate:modelValue":t[3]||(t[3]=o=>e(n).currentSupplier.email=o),modelModifiers:{trim:!0},"content-loading":e(r),type:"text",name:"email",invalid:e(s).currentSupplier.email.$error,onInput:t[4]||(t[4]=o=>e(s).currentSupplier.email.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["error","content-loading","label"]),l(u,{label:a.$t("customers.phone"),"content-loading":e(r)},{default:i(()=>[l(d,{modelValue:e(n).currentSupplier.phone,"onUpdate:modelValue":t[5]||(t[5]=o=>e(n).currentSupplier.phone=o),modelModifiers:{trim:!0},"content-loading":e(r),type:"text",name:"phone"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),l(u,{label:a.$t("customers.website"),"content-loading":e(r)},{default:i(()=>[l(d,{modelValue:e(n).currentSupplier.website,"onUpdate:modelValue":t[6]||(t[6]=o=>e(n).currentSupplier.website=o),"content-loading":e(r),type:"text",onInput:t[7]||(t[7]=o=>e(s).currentSupplier.website.$touch())},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),l(u,{label:a.$t("customers.website_another"),"content-loading":e(r)},{default:i(()=>[l(d,{modelValue:e(n).currentSupplier.website_ar,"onUpdate:modelValue":t[8]||(t[8]=o=>e(n).currentSupplier.website_ar=o),"content-loading":e(r),type:"text"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),l(u,{label:a.$t("customers.prefix"),error:e(s).currentSupplier.prefix.$error&&e(s).currentSupplier.prefix.$errors[0].$message,"content-loading":e(r)},{default:i(()=>[l(d,{modelValue:e(n).currentSupplier.prefix,"onUpdate:modelValue":t[9]||(t[9]=o=>e(n).currentSupplier.prefix=o),"content-loading":e(r),type:"text",name:"name",class:"",invalid:e(s).currentSupplier.prefix.$error,onInput:t[10]||(t[10]=o=>e(s).currentSupplier.prefix.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","error","content-loading"]),l(u,{label:a.$t("customers.prefix_another"),"content-loading":e(r)},{default:i(()=>[l(d,{modelValue:e(n).currentSupplier.prefix_ar,"onUpdate:modelValue":t[11]||(t[11]=o=>e(n).currentSupplier.prefix_ar=o),"content-loading":e(r),type:"text"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),l(u,{label:a.$t("customers.primary_currency"),"content-loading":e(r),error:e(s).currentSupplier.currency_id.$error&&e(s).currentSupplier.currency_id.$errors[0].$message,required:""},{default:i(()=>[l(y,{modelValue:e(n).currentSupplier.currency_id,"onUpdate:modelValue":t[12]||(t[12]=o=>e(n).currentSupplier.currency_id=o),"value-prop":"id",label:"name","track-by":"name","content-loading":e(r),options:e(h).currencies,searchable:"","can-deselect":!1,placeholder:a.$t("customers.select_currency"),invalid:e(s).currentSupplier.currency_id.$error,class:"w-full"},null,8,["modelValue","content-loading","options","placeholder","invalid"])]),_:1},8,["label","content-loading","error"]),l(u,{label:a.$t("categories.name"),"content-loading":e(r)},{default:i(()=>[l(y,{modelValue:e(n).currentSupplier.category_id,"onUpdate:modelValue":t[13]||(t[13]=o=>e(n).currentSupplier.category_id=o),"value-prop":"id",label:"name","track-by":"name","content-loading":e(r),options:e(F).categories,searchable:"","can-deselect":!1,placeholder:a.$t("categories.select"),class:"w-full"},null,8,["modelValue","content-loading","options","placeholder"])]),_:1},8,["label","content-loading"])]),_:1})]),l(I,{class:"mb-5 md:mb-8"}),c("div",me,[c("h6",ce,$(a.$t("customers.billing_address")),1),e(n).currentSupplier.billing?(B(),z(M,{key:0,class:"col-span-5 lg:col-span-4"},{default:i(()=>[l(u,{label:a.$t("customers.name"),"content-loading":e(r)},{default:i(()=>[l(d,{modelValue:e(n).currentSupplier.billing.name,"onUpdate:modelValue":t[14]||(t[14]=o=>e(n).currentSupplier.billing.name=o),modelModifiers:{trim:!0},"content-loading":e(r),type:"text",class:"w-full",name:"address_name"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),l(u,{label:a.$t("customers.name_another"),"content-loading":e(r)},{default:i(()=>[l(d,{modelValue:e(n).currentSupplier.name_ar,"onUpdate:modelValue":t[15]||(t[15]=o=>e(n).currentSupplier.name_ar=o),modelModifiers:{trim:!0},"content-loading":e(r),type:"text",class:"w-full"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),l(u,{label:a.$t("customers.state"),"content-loading":e(r)},{default:i(()=>[l(d,{modelValue:e(n).currentSupplier.billing.state,"onUpdate:modelValue":t[16]||(t[16]=o=>e(n).currentSupplier.billing.state=o),"content-loading":e(r),name:"billing.state",type:"text"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),l(u,{label:a.$t("customers.state_another"),"content-loading":e(r)},{default:i(()=>[l(d,{modelValue:e(n).currentSupplier.state_ar,"onUpdate:modelValue":t[17]||(t[17]=o=>e(n).currentSupplier.state_ar=o),"content-loading":e(r),name:"billing.state",type:"text"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),l(u,{"content-loading":e(r),label:a.$t("customers.city")},{default:i(()=>[l(d,{modelValue:e(n).currentSupplier.billing.city,"onUpdate:modelValue":t[18]||(t[18]=o=>e(n).currentSupplier.billing.city=o),"content-loading":e(r),name:"billing.city",type:"text"},null,8,["modelValue","content-loading"])]),_:1},8,["content-loading","label"]),l(u,{"content-loading":e(r),label:a.$t("customers.city_another")},{default:i(()=>[l(d,{modelValue:e(n).currentSupplier.city_ar,"onUpdate:modelValue":t[19]||(t[19]=o=>e(n).currentSupplier.city_ar=o),"content-loading":e(r),type:"text"},null,8,["modelValue","content-loading"])]),_:1},8,["content-loading","label"]),l(u,{label:a.$t("customers.address"),error:e(s).currentSupplier.billing.address_street_1.$error&&e(s).currentSupplier.billing.address_street_1.$errors[0].$message||e(s).currentSupplier.billing.address_street_2.$error&&e(s).currentSupplier.billing.address_street_2.$errors[0].$message,"content-loading":e(r)},{default:i(()=>[l(f,{modelValue:e(n).currentSupplier.billing.address_street_1,"onUpdate:modelValue":t[20]||(t[20]=o=>e(n).currentSupplier.billing.address_street_1=o),modelModifiers:{trim:!0},"content-loading":e(r),placeholder:a.$t("general.street_1"),type:"text",name:"billing_street1","container-class":"mt-3",onInput:t[21]||(t[21]=o=>e(s).currentSupplier.billing.address_street_1.$touch())},null,8,["modelValue","content-loading","placeholder"]),l(f,{modelValue:e(n).currentSupplier.billing.address_street_2,"onUpdate:modelValue":t[22]||(t[22]=o=>e(n).currentSupplier.billing.address_street_2=o),modelModifiers:{trim:!0},"content-loading":e(r),placeholder:a.$t("general.street_2"),type:"text",class:"mt-3",name:"billing_street2","container-class":"mt-3",onInput:t[23]||(t[23]=o=>e(s).currentSupplier.billing.address_street_2.$touch())},null,8,["modelValue","content-loading","placeholder"])]),_:1},8,["label","error","content-loading"]),l(u,{label:a.$t("customers.address_another"),"content-loading":e(r)},{default:i(()=>[l(f,{modelValue:e(n).currentSupplier.address_street_1_ar,"onUpdate:modelValue":t[24]||(t[24]=o=>e(n).currentSupplier.address_street_1_ar=o),modelModifiers:{trim:!0},"content-loading":e(r),placeholder:a.$t("general.street_1_another"),type:"text","container-class":"mt-3"},null,8,["modelValue","content-loading","placeholder"]),l(f,{modelValue:e(n).currentSupplier.address_street_2_ar,"onUpdate:modelValue":t[25]||(t[25]=o=>e(n).currentSupplier.address_street_2_ar=o),modelModifiers:{trim:!0},"content-loading":e(r),placeholder:a.$t("general.street_2_another"),type:"text",class:"mt-3","container-class":"mt-3"},null,8,["modelValue","content-loading","placeholder"])]),_:1},8,["label","content-loading"]),c("div",ge,[l(u,{"content-loading":e(r),label:a.$t("customers.phone"),class:"text-left"},{default:i(()=>[l(d,{modelValue:e(n).currentSupplier.billing.phone,"onUpdate:modelValue":t[26]||(t[26]=o=>e(n).currentSupplier.billing.phone=o),modelModifiers:{trim:!0},"content-loading":e(r),type:"text",name:"phone"},null,8,["modelValue","content-loading"])]),_:1},8,["content-loading","label"]),l(u,{"content-loading":e(r),label:a.$t("customers.phone_another"),class:"text-left"},{default:i(()=>[l(d,{modelValue:e(n).currentSupplier.phone_ar,"onUpdate:modelValue":t[27]||(t[27]=o=>e(n).currentSupplier.phone_ar=o),modelModifiers:{trim:!0},"content-loading":e(r),type:"text"},null,8,["modelValue","content-loading"])]),_:1},8,["content-loading","label"]),l(u,{label:a.$t("customers.zip_code"),"content-loading":e(r),class:"mt-2 text-left"},{default:i(()=>[l(d,{modelValue:e(n).currentSupplier.billing.zip,"onUpdate:modelValue":t[28]||(t[28]=o=>e(n).currentSupplier.billing.zip=o),modelModifiers:{trim:!0},"content-loading":e(r),type:"text",name:"zip"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),l(u,{label:a.$t("customers.zip_code_another"),"content-loading":e(r),class:"mt-2 text-left"},{default:i(()=>[l(d,{modelValue:e(n).currentSupplier.zip_ar,"onUpdate:modelValue":t[29]||(t[29]=o=>e(n).currentSupplier.zip_ar=o),modelModifiers:{trim:!0},"content-loading":e(r),type:"text"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),l(u,{label:a.$t("customers.country"),"content-loading":e(r)},{default:i(()=>[l(y,{modelValue:e(n).currentSupplier.billing.country_id,"onUpdate:modelValue":t[30]||(t[30]=o=>e(n).currentSupplier.billing.country_id=o),"value-prop":"id",label:"name","track-by":"name","resolve-on-load":"",searchable:"","content-loading":e(r),options:e(h).countries,placeholder:a.$t("general.select_country"),class:"w-full"},null,8,["modelValue","content-loading","options","placeholder"])]),_:1},8,["label","content-loading"])])]),_:1})):q("",!0)]),l(I,{class:"mb-5 md:mb-8"}),c("div",be,[e(L).customFields.length>0?(B(),re("h6",Se,$(a.$t("settings.custom_fields.title")),1)):q("",!0),c("div",_e,[l(ie,{type:"Customer",store:e(n),"store-prop":"currentSupplier","is-edit":e(b),"is-loading":e(N),"custom-field-scope":w},null,8,["store","is-edit","is-loading"])])])]),_:1})],40,se)]),_:1})}}};export{ve as default};
