import{ap as C,Q as N,u as T,R as A,I as z,e as E,x as F,f as L,F as R,r as c,o as f,n as w,w as o,m as v,a as t,S as I,T as _,q as u,t as d,J as V,U as j}from"./main.d0ffa6eb.js";const H={props:{row:{type:Object,default:null},table:{type:Object,default:null},loadData:{type:Function,default:()=>{}}},setup(s){const m=s,g=C();N(),T();const p=A(),k=z(),{t:n}=E(),h=F(),S=L();R("utils");async function b(e){p.openDialog({title:n("general.are_you_sure"),message:n("credits.confirm_delete"),yesLabel:n("general.ok"),noLabel:n("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(r=>{e=e,r&&g.deleteInvoice({ids:[e]}).then(a=>{a.data.success&&(S.push("/admin/credit-note"),m.table&&m.table.refresh(),g.$patch(i=>{i.selectedInvoices=[],i.selectAllField=!1}))})})}function B(e){return e.status=="DRAFT"&&h.name!=="invoices.view"&&k.hasAbilities(V.SEND_INVOICE)}async function D(e){p.openDialog({title:n("general.are_you_sure"),message:n("creditnote.creditnote_mark_as_sent"),yesLabel:n("general.ok"),noLabel:n("general.cancel"),variant:"primary",hideNoButton:!1,size:"lg"}).then(r=>{const a={id:e,status:"SENT",is_edit:"0"};r&&(g.markAsSent(a).then(i=>{m.table&&m.table.refresh()}),window.location.href=window.location.href)})}return(e,r)=>{const a=c("BaseIcon"),i=c("BaseButton"),l=c("BaseDropdownItem"),y=c("router-link"),x=c("BaseDropdown");return f(),w(x,null,{activator:o(()=>[v(h).name==="items.view"?(f(),w(i,{key:0,variant:"primary"},{default:o(()=>[t(a,{name:"DotsHorizontalIcon",class:"h-5 text-white"})]),_:1})):(f(),w(a,{key:1,name:"DotsHorizontalIcon",class:"h-5 text-gray-500"}))]),default:o(()=>[I(t(y,{to:`/admin/credit-note/${s.row.id}/create`},{default:o(()=>[t(l,null,{default:o(()=>[t(a,{name:"PlusIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),u(" "+d(e.$t("general.create")),1)]),_:1})]),_:1},8,["to"]),[[_,v(g).selectedTab!="credit"]]),I(t(y,{to:`/admin/credit-note/${s.row.id}/view`},{default:o(()=>[t(l,null,{default:o(()=>[t(a,{name:"EyeIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),u(" "+d(e.$t("general.view")),1)]),_:1})]),_:1},8,["to"]),[[_,v(h).name!="credit.view"]]),t(y,{to:`/admin/credit-note/${s.row.id}/edit`},{default:o(()=>[t(l,null,{default:o(()=>[t(a,{name:"PencilIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),u(" "+d(e.$t("general.edit")),1)]),_:1})]),_:1},8,["to"]),B(s.row)?(f(),w(l,{key:0,onClick:r[0]||(r[0]=$=>D(s.row.id))},{default:o(()=>[t(a,{name:"CheckCircleIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),u(" "+d(e.$t("invoices.mark_as_sent")),1)]),_:1})):j("",!0),t(l,{onClick:r[1]||(r[1]=$=>b(s.row.id))},{default:o(()=>[t(a,{name:"TrashIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),u(" "+d(e.$t("general.delete")),1)]),_:1})]),_:1})}}};export{H as _};
