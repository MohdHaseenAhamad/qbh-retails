import{Q as y,ah as S,H as U,V as C,u as N,e as E,g as G,l as D,h as b,i as _,k as j,M as z,r as m,o as T,n as A,w as o,b as k,q as p,t as f,m as e,a as l,s as H,E as L}from"./main.d0ffa6eb.js";const Q={class:"flex justify-between w-full"},X={class:"bank-detail-modal"},F=["onSubmit"],J={class:"px-8 py-8 sm:p-6"},K={class:"z-0 flex justify-end p-4 border-t border-gray-200 border-solid"},W={emits:["newItem"],setup(O,{emit:P}){const d=y(),n=S();U(),C(),N();const{t:c}=E(),$=G(!1),w=D(()=>d.active&&d.componentName==="BankDetailModal"),g={account_no:{required:b.withMessage(c("validation.required"),_)},bank_name:{required:b.withMessage(c("validation.required"),_)},account_name:{required:b.withMessage(c("validation.required"),_)},iban:{required:b.withMessage(c("validation.required"),_)},swift_code:{required:b.withMessage(c("validation.required"),_)}},r=j(g,D(()=>n.currentBankDetail));z(()=>{r.value.$reset()});async function q(){if(r.value.$touch(),r.value.$invalid)return!0;({...n.currentBankDetail},$.value=!0),await(n.isEdit?n.updateBankDetail:n.addItem)(n.currentBankDetail).then(a=>{console.log(a.data.data,"resresresresres"),$.value=!1,a.data.data&&d.refreshData&&d.refreshData(a.data.data),B()})}function B(){d.closeModal(),setTimeout(()=>{n.resetCurrentItem(),d.$reset(),r.value.$reset()},300)}return(u,a)=>{const v=m("BaseIcon"),i=m("BaseInput"),s=m("BaseInputGroup"),I=m("BaseInputGrid"),V=m("BaseButton"),M=m("BaseModal");return T(),A(M,{show:e(w),onClose:B},{header:o(()=>[k("div",Q,[p(f(e(d).title)+" ",1),l(v,{name:"XIcon",class:"h-6 w-6 text-gray-500 cursor-pointer",onClick:B})])]),default:o(()=>[k("div",X,[k("form",{action:"",onSubmit:H(q,["prevent"])},[k("div",J,[l(I,{class:"mt-5"},{default:o(()=>[l(s,{label:u.$t("bankdetail.account_name"),error:e(r).account_name.$error&&e(r).account_name.$errors[0].$message,required:""},{default:o(()=>[l(i,{modelValue:e(n).currentBankDetail.account_name,"onUpdate:modelValue":a[0]||(a[0]=t=>e(n).currentBankDetail.account_name=t),invalid:e(r).account_name.$error,onBlur:a[1]||(a[1]=t=>e(r).account_name.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),l(s,{label:u.$t("bankdetail.account_name_ar")},{default:o(()=>[l(i,{modelValue:e(n).currentBankDetail.account_name_ar,"onUpdate:modelValue":a[2]||(a[2]=t=>e(n).currentBankDetail.account_name_ar=t)},null,8,["modelValue"])]),_:1},8,["label"]),l(s,{label:u.$t("bankdetail.bank_name"),error:e(r).bank_name.$error&&e(r).bank_name.$errors[0].$message,required:""},{default:o(()=>[l(i,{modelValue:e(n).currentBankDetail.bank_name,"onUpdate:modelValue":a[3]||(a[3]=t=>e(n).currentBankDetail.bank_name=t),invalid:e(r).bank_name.$error,onBlur:a[4]||(a[4]=t=>e(r).bank_name.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),l(s,{label:u.$t("bankdetail.bank_name_ar")},{default:o(()=>[l(i,{modelValue:e(n).currentBankDetail.bank_name_ar,"onUpdate:modelValue":a[5]||(a[5]=t=>e(n).currentBankDetail.bank_name_ar=t)},null,8,["modelValue"])]),_:1},8,["label"]),l(s,{label:u.$t("bankdetail.account_no"),error:e(r).account_no.$error&&e(r).account_no.$errors[0].$message,required:""},{default:o(()=>[l(i,{modelValue:e(n).currentBankDetail.account_no,"onUpdate:modelValue":a[6]||(a[6]=t=>e(n).currentBankDetail.account_no=t),invalid:e(r).account_no.$error,onBlur:a[7]||(a[7]=t=>e(r).account_no.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),l(s,{label:u.$t("bankdetail.account_no_ar")},{default:o(()=>[l(i,{modelValue:e(n).currentBankDetail.account_no_ar,"onUpdate:modelValue":a[8]||(a[8]=t=>e(n).currentBankDetail.account_no_ar=t)},null,8,["modelValue"])]),_:1},8,["label"]),l(s,{label:u.$t("bankdetail.iban"),error:e(r).iban.$error&&e(r).iban.$errors[0].$message,required:""},{default:o(()=>[l(i,{modelValue:e(n).currentBankDetail.iban,"onUpdate:modelValue":a[9]||(a[9]=t=>e(n).currentBankDetail.iban=t),invalid:e(r).iban.$error,onBlur:a[10]||(a[10]=t=>e(r).iban.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),l(s,{label:u.$t("bankdetail.iban_ar")},{default:o(()=>[l(i,{modelValue:e(n).currentBankDetail.iban_ar,"onUpdate:modelValue":a[11]||(a[11]=t=>e(n).currentBankDetail.iban_ar=t)},null,8,["modelValue"])]),_:1},8,["label"]),l(s,{label:u.$t("bankdetail.swift_code"),error:e(r).swift_code.$error&&e(r).swift_code.$errors[0].$message,required:""},{default:o(()=>[l(i,{modelValue:e(n).currentBankDetail.swift_code,"onUpdate:modelValue":a[12]||(a[12]=t=>e(n).currentBankDetail.swift_code=t),invalid:e(r).swift_code.$error,onBlur:a[13]||(a[13]=t=>e(r).swift_code.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),l(s,{label:u.$t("bankdetail.swift_code_ar")},{default:o(()=>[l(i,{modelValue:e(n).currentBankDetail.swift_code_ar,"onUpdate:modelValue":a[14]||(a[14]=t=>e(n).currentBankDetail.swift_code_ar=t)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),k("div",K,[l(V,{class:"mr-3",variant:"primary-outline",type:"button",onClick:B},{default:o(()=>[p(f(u.$t("general.cancel")),1)]),_:1}),l(V,{loading:$.value,disabled:$.value,variant:"primary",type:"submit"},{left:o(t=>[l(v,{name:"SaveIcon",class:L(t.class)},null,8,["class"])]),default:o(()=>[p(" "+f(e(n).isEdit?u.$t("general.update"):u.$t("general.save")),1)]),_:1},8,["loading","disabled"])])],40,F)])]),_:1},8,["show"])}}};export{W as _};
